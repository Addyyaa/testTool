2025-07-10 18:50:50,244 - [INFO] - ota_test:ota_test.py:30 - <module>() - OTA测试程序启动
2025-07-10 18:50:50,296 - [INFO] - login:login.py:48 - login() - body_data: {'account': 'test2@tester.com', 'password': 'sf123123', 'loginType': '3'}
2025-07-10 18:50:50,297 - [INFO] - login:login.py:49 - login() - 登录成功！
2025-07-10 18:50:50,339 - [INFO] - login:login.py:48 - login() - body_data: {'account': 'test2@tester.com', 'password': 'sf123123', 'loginType': '3'}
2025-07-10 18:50:50,339 - [INFO] - login:login.py:49 - login() - 登录成功！
2025-07-10 18:51:47,711 - [INFO] - ota_test:ota_test.py:390 - main() - 将执行 1000 次测试
2025-07-10 18:51:47,711 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 1 轮测试
2025-07-10 18:51:47,831 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.6 23>
2025-07-10 18:51:48,240 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 18:51:55,650 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 18:51:56,120 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 18:51:56,681 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 18:51:57,214 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 18:52:07,442 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.6：本地版本：2.01.17.0
2025-07-10 18:52:09,093 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 18:52:19,119 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.6：屏幕ID：PinturaV2test00001
2025-07-10 18:52:19,193 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.6-已发送升级请求
2025-07-10 18:52:20,768 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 18:52:20,842 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 18:53:31,207 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.6：本地版本：2.01.17.0
2025-07-10 18:53:31,207 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.6：升级成功
2025-07-10 18:53:32,447 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 18:53:32,447 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 18:53:39,104 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.6 23>
2025-07-10 18:53:39,104 - [WARNING] - telnet_connecter:telnet_connecter.py:311 - send_command() - [Attempt 1/3] Connection not established or closing. Attempting to connect... (writer: False, reader: False, closing: N/A)
2025-07-10 18:53:45,548 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 18:53:49,619 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 18:53:49.619645] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 18:53:49.619645] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 18:53:49,620 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 18:53:49.619645] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 18:53:49,621 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 18:53:57,529 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 18:53:59,645 - [WARNING] - telnet_connecter:telnet_connecter.py:451 - send_command() - [Attempt 1/3] ConnectionError occurred: Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 18:53:59,645 - [ERROR] - telnet_connecter:telnet_connecter.py:457 - send_command() - [Attempt 1/3] Non-retryable ConnectionError: Failed to connect: [WinError 121] 信号灯超时时间已到. Aborting retries.
2025-07-10 18:53:59,646 - [WARNING] - ota_test:ota_test.py:193 - cmd_sender() - 192.168.1.6：连接失败: Failed to connect: [WinError 121] 信号灯超时时间已到，等待30秒后重试...
2025-07-10 18:54:29,657 - [INFO] - ota_test:ota_test.py:148 - cmd_sender() - 192.168.1.6: 连接已关闭，尝试重新连接...
2025-07-10 18:54:50,685 - [ERROR] - ota_test:ota_test.py:197 - cmd_sender() - 192.168.1.6：重新连接到设备失败: Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 18:54:50,685 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.6：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 18:54:54,772 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 18:54:54.772944] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 18:54:54.772944] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 18:54:54,773 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 18:54:54.772944] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 18:54:54,774 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.6：更新设备 PinturaV2test00001 的OTA状态成功
2025-07-10 18:55:49,629 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 18:55:49,630 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 18:56:54,790 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.6：尝试重新连接设备，第1次尝试...
2025-07-10 18:56:54,790 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 18:56:54,790 - [INFO] - ota_test:ota_test.py:416 - main() - 第 1 轮测试完成---【2/1000】
2025-07-10 18:56:54,791 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 2 轮测试
2025-07-10 18:56:55,382 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 18:57:03,500 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 18:57:04,594 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 18:57:15,845 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 18:57:16,226 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 18:57:27,752 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 18:57:27,834 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 18:58:40,036 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 18:58:40,036 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 18:58:53,514 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 18:58:57,550 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 18:58:57.550632] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 18:58:57.550632] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 18:58:57,554 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 18:58:57.550632] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 18:58:57,554 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 18:59:04,138 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:00:57,547 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:00:57,547 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:00:57,548 - [INFO] - ota_test:ota_test.py:416 - main() - 第 2 轮测试完成---【3/1000】
2025-07-10 19:00:57,548 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 3 轮测试
2025-07-10 19:01:18,591 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:01:18,591 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:01:18,591 - [INFO] - ota_test:ota_test.py:416 - main() - 第 3 轮测试完成---【3/1000】
2025-07-10 19:01:18,591 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 4 轮测试
2025-07-10 19:01:18,760 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:01:26,409 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:01:27,484 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:01:39,017 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:01:39,639 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:01:50,962 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:01:51,050 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:03:03,161 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:03:03,161 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:03:17,087 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:03:21,117 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:03:21.117536] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:03:21.117536] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:03:21,119 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:03:21.117536] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:03:21,119 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:03:27,186 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:05:21,136 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:05:21,136 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:05:21,137 - [INFO] - ota_test:ota_test.py:416 - main() - 第 4 轮测试完成---【4/1000】
2025-07-10 19:05:21,137 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 5 轮测试
2025-07-10 19:05:21,307 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:05:28,950 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:05:30,018 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:05:41,663 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:05:42,179 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:05:54,148 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:05:54,230 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:07:07,079 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:07:07,079 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:07:20,638 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:07:24,685 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:07:24.685937] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:07:24.685937] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:07:24,688 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:07:24.685937] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:07:24,688 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:07:31,836 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:09:24,681 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:09:24,682 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:09:24,682 - [INFO] - ota_test:ota_test.py:416 - main() - 第 5 轮测试完成---【5/1000】
2025-07-10 19:09:24,682 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 6 轮测试
2025-07-10 19:09:45,705 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:09:45,706 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:09:45,706 - [INFO] - ota_test:ota_test.py:416 - main() - 第 6 轮测试完成---【5/1000】
2025-07-10 19:09:45,706 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 7 轮测试
2025-07-10 19:09:52,814 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:10:00,490 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:10:01,721 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:10:06,758 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:10:13,492 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:10:26,467 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:10:26,546 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:11:39,756 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:11:39,756 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:11:53,199 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:11:57,254 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:11:57.254217] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:11:57.254217] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:11:57,256 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:11:57.254217] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:11:57,256 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:12:04,142 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:13:57,261 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:13:57,262 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:13:57,262 - [INFO] - ota_test:ota_test.py:416 - main() - 第 7 轮测试完成---【6/1000】
2025-07-10 19:13:57,263 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 8 轮测试
2025-07-10 19:14:18,311 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:14:18,311 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:14:18,312 - [INFO] - ota_test:ota_test.py:416 - main() - 第 8 轮测试完成---【6/1000】
2025-07-10 19:14:18,312 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 9 轮测试
2025-07-10 19:14:18,442 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:14:26,053 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:14:27,072 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:14:38,681 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:14:39,360 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:14:51,479 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:14:51,568 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:16:03,054 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:16:03,055 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:16:16,779 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:16:20,883 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:16:20.883360] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:16:20.883360] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:16:20,885 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:16:20.883360] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:16:20,885 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:16:27,487 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:18:20,907 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:18:20,909 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:18:20,909 - [INFO] - ota_test:ota_test.py:416 - main() - 第 9 轮测试完成---【7/1000】
2025-07-10 19:18:20,909 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 10 轮测试
2025-07-10 19:18:20,990 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:18:28,527 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:18:29,543 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:18:40,954 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:18:41,955 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:18:52,625 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:18:52,698 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:20:04,108 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:20:04,109 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:20:17,628 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:20:21,689 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:20:21.689532] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:20:21.689532] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:20:21,690 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:20:21.689532] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:20:21,690 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:20:28,610 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:22:21,703 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:22:21,703 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:22:21,704 - [INFO] - ota_test:ota_test.py:416 - main() - 第 10 轮测试完成---【8/1000】
2025-07-10 19:22:21,705 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 11 轮测试
2025-07-10 19:22:21,840 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:22:29,661 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:22:30,678 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:22:42,280 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:22:42,751 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:22:54,552 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:22:54,631 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:24:07,237 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:24:07,238 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:24:21,128 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:24:25,196 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:24:25.196402] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:24:25.196402] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:24:25,198 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:24:25.196402] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:24:25,199 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:24:31,757 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:26:25,226 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:26:25,227 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:26:25,228 - [INFO] - ota_test:ota_test.py:416 - main() - 第 11 轮测试完成---【9/1000】
2025-07-10 19:26:25,228 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 12 轮测试
2025-07-10 19:26:25,346 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:26:32,900 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:26:33,917 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:26:44,898 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:26:46,259 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:26:56,779 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:26:56,853 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:28:08,662 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:28:08,662 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:28:22,327 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:28:26,391 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:28:26.391954] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:28:26.391954] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:28:26,392 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:28:26.391954] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:28:26,393 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:28:33,181 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:30:26,387 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:30:26,387 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:30:26,387 - [INFO] - ota_test:ota_test.py:416 - main() - 第 12 轮测试完成---【10/1000】
2025-07-10 19:30:26,388 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 13 轮测试
2025-07-10 19:30:26,602 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:30:34,224 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:30:35,243 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:30:46,611 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:30:47,432 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:30:58,892 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:30:58,967 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:32:11,364 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:32:11,364 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:32:25,088 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:32:29,153 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:32:29.153318] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:32:29.153318] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:32:29,158 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:32:29.153318] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:32:29,158 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:32:35,653 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:34:29,168 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:34:29,168 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:34:29,169 - [INFO] - ota_test:ota_test.py:416 - main() - 第 13 轮测试完成---【11/1000】
2025-07-10 19:34:29,169 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 14 轮测试
2025-07-10 19:34:50,211 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:34:50,227 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:34:50,227 - [INFO] - ota_test:ota_test.py:416 - main() - 第 14 轮测试完成---【11/1000】
2025-07-10 19:34:50,228 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 15 轮测试
2025-07-10 19:34:50,346 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:34:57,935 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:34:59,023 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:35:10,645 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:35:11,251 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:35:22,459 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:35:22,545 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:36:34,738 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:36:34,738 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:36:48,050 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:36:52,106 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:36:52.106999] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:36:52.106999] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:36:52,108 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:36:52.106999] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:36:52,108 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:36:59,430 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:38:52,108 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:38:52,109 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:38:52,109 - [INFO] - ota_test:ota_test.py:416 - main() - 第 15 轮测试完成---【12/1000】
2025-07-10 19:38:52,110 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 16 轮测试
2025-07-10 19:38:52,258 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:38:59,830 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:39:00,892 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:39:11,975 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:39:13,154 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:39:25,341 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:39:25,428 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:40:38,041 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:40:38,041 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:40:51,561 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:40:55,619 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:40:55.618433] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:40:55.618433] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:40:55,621 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:40:55.618433] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:40:55,622 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:41:02,600 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:42:55,632 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:42:55,633 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:42:55,633 - [INFO] - ota_test:ota_test.py:416 - main() - 第 16 轮测试完成---【13/1000】
2025-07-10 19:42:55,633 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 17 轮测试
2025-07-10 19:42:55,768 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:43:03,334 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:43:04,350 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:43:15,939 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:43:16,679 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:43:27,802 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:43:27,891 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:44:39,852 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:44:39,853 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:44:53,040 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:44:57,135 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:44:57.135734] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:44:57.135734] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:44:57,136 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:44:57.135734] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:44:57,136 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:45:03,928 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:46:57,162 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:46:57,162 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:46:57,162 - [INFO] - ota_test:ota_test.py:416 - main() - 第 17 轮测试完成---【14/1000】
2025-07-10 19:46:57,162 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 18 轮测试
2025-07-10 19:47:18,204 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:47:18,205 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:47:18,205 - [INFO] - ota_test:ota_test.py:416 - main() - 第 18 轮测试完成---【14/1000】
2025-07-10 19:47:18,205 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 19 轮测试
2025-07-10 19:47:18,267 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:47:25,827 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:47:26,842 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:47:38,580 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:47:39,247 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:47:50,317 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:47:50,392 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:49:02,062 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:49:02,062 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:49:15,591 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:49:19,657 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:49:19.657600] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:49:19.657600] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:49:19,659 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:49:19.657600] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:49:19,660 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:49:26,179 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:51:19,678 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:51:19,678 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:51:19,678 - [INFO] - ota_test:ota_test.py:416 - main() - 第 19 轮测试完成---【15/1000】
2025-07-10 19:51:19,679 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 20 轮测试
2025-07-10 19:51:19,931 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:51:27,607 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:51:28,624 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:51:39,928 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:51:40,714 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:51:51,838 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:51:51,923 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:53:03,928 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:53:03,928 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:53:16,496 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:53:20,589 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:53:20.588339] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:53:20.588339] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:53:20,592 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:53:20.588339] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:53:20,593 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:53:27,768 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:55:20,599 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:55:20,600 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:55:20,600 - [INFO] - ota_test:ota_test.py:416 - main() - 第 20 轮测试完成---【16/1000】
2025-07-10 19:55:20,601 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 21 轮测试
2025-07-10 19:55:20,634 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:55:28,238 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:55:29,253 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 19:55:40,622 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:55:41,649 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:55:54,322 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 19:55:54,406 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 19:57:06,027 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 19:57:06,027 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 19:57:19,731 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 19:57:23,813 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 19:57:23.813024] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 19:57:23.813024] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:57:23,815 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 19:57:23.813024] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 19:57:23,816 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 19:57:30,696 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 19:59:23,813 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 19:59:23,815 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 19:59:23,815 - [INFO] - ota_test:ota_test.py:416 - main() - 第 21 轮测试完成---【17/1000】
2025-07-10 19:59:23,816 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 22 轮测试
2025-07-10 19:59:44,858 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:59:44,859 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 19:59:44,860 - [INFO] - ota_test:ota_test.py:416 - main() - 第 22 轮测试完成---【17/1000】
2025-07-10 19:59:44,860 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 23 轮测试
2025-07-10 19:59:44,981 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 19:59:52,548 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 19:59:53,626 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:00:05,842 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:00:05,903 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:00:18,932 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:00:19,010 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:01:31,640 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:01:31,640 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:01:44,945 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:01:48,995 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:01:48.994817] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:01:48.994817] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:01:48,996 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:01:48.994817] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:01:48,996 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:01:55,736 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:03:49,011 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:03:49,011 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:03:49,011 - [INFO] - ota_test:ota_test.py:416 - main() - 第 23 轮测试完成---【18/1000】
2025-07-10 20:03:49,011 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 24 轮测试
2025-07-10 20:03:49,158 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:03:56,935 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:03:57,966 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:04:10,051 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:04:10,627 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:04:22,635 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:04:22,710 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:05:34,872 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:05:34,872 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:05:48,656 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:05:52,738 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:05:52.738112] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:05:52.738112] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:05:52,740 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:05:52.738112] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:05:52,740 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:05:59,470 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:07:52,746 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:07:52,746 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:07:52,747 - [INFO] - ota_test:ota_test.py:416 - main() - 第 24 轮测试完成---【19/1000】
2025-07-10 20:07:52,747 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 25 轮测试
2025-07-10 20:07:52,875 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:08:00,467 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:08:01,546 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:08:13,045 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:08:13,758 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:08:25,313 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:08:25,391 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:09:36,756 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:09:36,756 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:09:50,535 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:09:54,596 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:09:54.596186] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:09:54.596186] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:09:54,597 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:09:54.596186] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:09:54,597 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:10:00,719 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:11:54,605 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:11:54,606 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:11:54,606 - [INFO] - ota_test:ota_test.py:416 - main() - 第 25 轮测试完成---【20/1000】
2025-07-10 20:11:54,606 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 26 轮测试
2025-07-10 20:11:54,888 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:12:02,570 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:12:03,892 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:12:15,335 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:12:15,655 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:12:26,659 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:12:26,734 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:13:39,155 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:13:39,155 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:13:52,226 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:13:56,280 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:13:56.280156] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:13:56.280156] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:13:56,281 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:13:56.280156] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:13:56,282 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:14:03,159 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:15:56,289 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:15:56,289 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:15:56,289 - [INFO] - ota_test:ota_test.py:416 - main() - 第 26 轮测试完成---【21/1000】
2025-07-10 20:15:56,290 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 27 轮测试
2025-07-10 20:16:17,315 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:16:17,331 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:16:17,332 - [INFO] - ota_test:ota_test.py:416 - main() - 第 27 轮测试完成---【21/1000】
2025-07-10 20:16:17,332 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 28 轮测试
2025-07-10 20:16:17,447 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:16:25,046 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:16:26,068 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:16:37,323 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:16:38,382 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:16:49,151 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:16:49,228 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:18:00,632 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:18:00,632 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:18:13,944 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:18:18,001 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:18:18.001914] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:18:18.001914] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:18:18,003 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:18:18.001914] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:18:18,003 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:18:25,061 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:20:18,003 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:20:18,003 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:20:18,003 - [INFO] - ota_test:ota_test.py:416 - main() - 第 28 轮测试完成---【22/1000】
2025-07-10 20:20:18,003 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 29 轮测试
2025-07-10 20:20:18,292 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:20:26,589 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:20:27,666 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:20:39,041 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:20:39,375 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:20:51,634 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:20:51,714 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:22:03,574 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:22:03,576 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:22:16,747 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:22:20,789 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:22:20.789081] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:22:20.789081] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:22:20,790 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:22:20.789081] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:22:20,791 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:22:28,065 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:24:20,813 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:24:20,814 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:24:20,814 - [INFO] - ota_test:ota_test.py:416 - main() - 第 29 轮测试完成---【23/1000】
2025-07-10 20:24:20,815 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 30 轮测试
2025-07-10 20:24:21,393 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:24:29,501 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:24:30,699 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:24:41,656 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:24:41,868 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:24:53,702 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:24:53,787 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:26:06,529 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:26:06,529 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:26:20,172 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:26:24,255 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:26:24.255549] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:26:24.255549] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:26:24,256 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:26:24.255549] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:26:24,257 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:26:30,729 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:28:24,249 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:28:24,249 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:28:24,250 - [INFO] - ota_test:ota_test.py:416 - main() - 第 30 轮测试完成---【24/1000】
2025-07-10 20:28:24,250 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 31 轮测试
2025-07-10 20:28:45,284 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:28:45,284 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:28:45,284 - [INFO] - ota_test:ota_test.py:416 - main() - 第 31 轮测试完成---【24/1000】
2025-07-10 20:28:45,286 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 32 轮测试
2025-07-10 20:28:45,386 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:28:52,933 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:28:53,953 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:29:05,465 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:29:06,317 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:29:17,765 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:29:17,840 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:30:29,992 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:30:29,992 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:30:43,108 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:30:47,220 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:30:47.220358] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:30:47.220358] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:30:47,222 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:30:47.220358] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:30:47,223 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:30:54,146 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:32:47,232 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:32:47,232 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:32:47,232 - [INFO] - ota_test:ota_test.py:416 - main() - 第 32 轮测试完成---【25/1000】
2025-07-10 20:32:47,232 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 33 轮测试
2025-07-10 20:33:08,272 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:33:08,274 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:33:08,274 - [INFO] - ota_test:ota_test.py:416 - main() - 第 33 轮测试完成---【25/1000】
2025-07-10 20:33:08,274 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 34 轮测试
2025-07-10 20:33:15,519 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:33:23,147 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:33:24,211 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:33:29,341 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:33:36,200 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:33:49,574 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:33:49,659 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:35:01,391 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:35:01,391 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:35:14,676 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:35:18,762 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:35:18.762668] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:35:18.762668] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:35:18,763 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:35:18.762668] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:35:18,763 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:35:25,979 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:37:18,774 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:37:18,774 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:37:18,775 - [INFO] - ota_test:ota_test.py:416 - main() - 第 34 轮测试完成---【26/1000】
2025-07-10 20:37:18,775 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 35 轮测试
2025-07-10 20:37:18,822 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:37:26,702 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:37:27,825 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:37:39,663 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:37:39,814 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:37:51,748 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:37:51,832 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:39:04,061 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:39:04,061 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:39:17,545 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:39:21,591 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:39:21.591273] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:39:21.591273] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:39:21,593 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:39:21.591273] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:39:21,594 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:39:28,562 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:41:21,606 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:41:21,606 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:41:21,606 - [INFO] - ota_test:ota_test.py:416 - main() - 第 35 轮测试完成---【27/1000】
2025-07-10 20:41:21,606 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 36 轮测试
2025-07-10 20:41:21,718 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:41:29,393 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:41:30,518 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:41:42,251 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:41:42,645 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:41:54,853 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:41:54,934 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:43:06,707 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:43:06,709 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:43:20,878 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:43:24,942 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:43:24.942176] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:43:24.942176] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:43:24,945 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:43:24.942176] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:43:24,945 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:43:31,716 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:45:24,958 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:45:24,959 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:45:24,959 - [INFO] - ota_test:ota_test.py:416 - main() - 第 36 轮测试完成---【28/1000】
2025-07-10 20:45:24,959 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 37 轮测试
2025-07-10 20:45:25,050 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:45:32,650 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:45:33,665 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:45:45,599 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:45:46,012 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:45:57,360 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:45:57,434 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:47:09,425 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:47:09,426 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:47:23,760 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:47:27,815 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:47:27.815493] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:47:27.815493] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:47:27,816 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:47:27.815493] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:47:27,816 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:47:34,021 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:49:27,820 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:49:27,821 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:49:27,822 - [INFO] - ota_test:ota_test.py:416 - main() - 第 37 轮测试完成---【29/1000】
2025-07-10 20:49:27,822 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 38 轮测试
2025-07-10 20:49:27,919 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:49:35,591 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:49:36,742 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:49:48,041 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:49:48,871 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:50:01,548 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:50:01,621 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:51:14,345 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:51:14,346 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:51:28,336 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:51:32,403 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:51:32.402305] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:51:32.402305] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:51:32,404 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:51:32.402305] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:51:32,404 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:51:38,611 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:53:32,414 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:53:32,414 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:53:32,414 - [INFO] - ota_test:ota_test.py:416 - main() - 第 38 轮测试完成---【30/1000】
2025-07-10 20:53:32,415 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 39 轮测试
2025-07-10 20:53:32,454 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:53:40,108 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:53:41,122 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:53:52,282 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:53:53,465 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:54:04,051 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:54:04,132 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:55:16,005 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:55:16,006 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:55:29,147 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:55:33,190 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:55:33.190173] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:55:33.190173] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:55:33,191 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:55:33.190173] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:55:33,192 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:55:40,156 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 20:57:33,199 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 20:57:33,199 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 20:57:33,199 - [INFO] - ota_test:ota_test.py:416 - main() - 第 39 轮测试完成---【31/1000】
2025-07-10 20:57:33,199 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 40 轮测试
2025-07-10 20:57:33,301 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 20:57:40,892 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 20:57:41,913 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 20:57:53,260 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:57:54,247 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 20:58:04,791 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 20:58:04,872 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 20:59:16,454 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 20:59:16,455 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 20:59:30,447 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 20:59:34,514 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 20:59:34.514257] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 20:59:34.514257] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:59:34,516 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 20:59:34.514257] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 20:59:34,516 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 20:59:40,619 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:01:34,514 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:01:34,514 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:01:34,514 - [INFO] - ota_test:ota_test.py:416 - main() - 第 40 轮测试完成---【32/1000】
2025-07-10 21:01:34,515 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 41 轮测试
2025-07-10 21:01:34,557 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:01:42,227 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:01:43,318 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:01:54,823 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:01:55,551 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:02:07,483 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:02:07,560 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:03:19,987 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:03:19,987 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:03:33,307 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:03:37,401 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:03:37.401603] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:03:37.401603] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:03:37,403 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:03:37.401603] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:03:37,403 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:03:44,389 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:05:37,406 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:05:37,407 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:05:37,408 - [INFO] - ota_test:ota_test.py:416 - main() - 第 41 轮测试完成---【33/1000】
2025-07-10 21:05:37,408 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 42 轮测试
2025-07-10 21:05:37,453 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:05:45,012 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:05:46,030 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:05:57,475 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:05:58,463 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:06:09,839 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:06:09,918 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:07:22,475 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:07:22,475 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:07:36,301 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:07:40,368 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:07:40.368673] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:07:40.368673] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:07:40,369 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:07:40.368673] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:07:40,370 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:07:46,613 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:09:40,380 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:09:40,380 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:09:40,381 - [INFO] - ota_test:ota_test.py:416 - main() - 第 42 轮测试完成---【34/1000】
2025-07-10 21:09:40,381 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 43 轮测试
2025-07-10 21:10:01,398 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:10:01,413 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:10:01,414 - [INFO] - ota_test:ota_test.py:416 - main() - 第 43 轮测试完成---【34/1000】
2025-07-10 21:10:01,414 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 44 轮测试
2025-07-10 21:10:01,443 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:10:09,041 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:10:10,118 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:10:21,387 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:10:22,466 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:10:33,553 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:10:33,647 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:11:45,443 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:11:45,445 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:11:58,553 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:12:02,625 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:12:02.625287] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:12:02.625287] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:12:02,626 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:12:02.625287] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:12:02,626 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:12:09,489 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:14:02,635 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:14:02,636 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:14:02,636 - [INFO] - ota_test:ota_test.py:416 - main() - 第 44 轮测试完成---【35/1000】
2025-07-10 21:14:02,636 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 45 轮测试
2025-07-10 21:14:23,665 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:14:23,681 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:14:23,681 - [INFO] - ota_test:ota_test.py:416 - main() - 第 45 轮测试完成---【35/1000】
2025-07-10 21:14:23,681 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 46 轮测试
2025-07-10 21:14:23,798 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:14:31,402 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:14:32,421 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:14:44,091 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:14:44,701 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:14:56,312 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:14:56,393 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:16:08,684 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:16:08,685 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:16:21,920 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:16:26,028 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:16:26.028315] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:16:26.028315] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:16:26,030 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:16:26.028315] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:16:26,030 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:16:32,669 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:18:26,038 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:18:26,039 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:18:26,041 - [INFO] - ota_test:ota_test.py:416 - main() - 第 46 轮测试完成---【36/1000】
2025-07-10 21:18:26,041 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 47 轮测试
2025-07-10 21:18:26,075 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:18:33,746 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:18:34,869 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:18:46,315 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:18:47,074 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:18:58,054 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:18:58,135 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:20:09,860 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:20:09,860 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:20:23,084 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:20:27,166 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:20:27.166791] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:20:27.166791] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:20:27,168 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:20:27.166791] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:20:27,168 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:20:34,100 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:22:27,192 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:22:27,193 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:22:27,193 - [INFO] - ota_test:ota_test.py:416 - main() - 第 47 轮测试完成---【37/1000】
2025-07-10 21:22:27,194 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 48 轮测试
2025-07-10 21:22:48,242 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:22:48,242 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:22:48,243 - [INFO] - ota_test:ota_test.py:416 - main() - 第 48 轮测试完成---【37/1000】
2025-07-10 21:22:48,243 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 49 轮测试
2025-07-10 21:22:48,429 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:22:55,991 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:22:57,009 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:23:08,257 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:23:09,304 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:23:20,151 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:23:20,225 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:24:32,527 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:24:32,527 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:24:46,185 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:24:50,227 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:24:50.227362] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:24:50.227362] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:24:50,228 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:24:50.227362] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:24:50,228 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:24:56,853 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:26:50,233 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:26:50,233 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:26:50,233 - [INFO] - ota_test:ota_test.py:416 - main() - 第 49 轮测试完成---【38/1000】
2025-07-10 21:26:50,234 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 50 轮测试
2025-07-10 21:26:50,299 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:26:57,847 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:26:58,863 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:27:10,163 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:27:11,271 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:27:22,015 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:27:22,098 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:28:34,702 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:28:34,702 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:28:48,216 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:28:52,288 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:28:52.288030] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:28:52.288030] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:28:52,290 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:28:52.288030] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:28:52,290 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:28:59,519 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:30:52,314 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:30:52,314 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:30:52,315 - [INFO] - ota_test:ota_test.py:416 - main() - 第 50 轮测试完成---【39/1000】
2025-07-10 21:30:52,315 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 51 轮测试
2025-07-10 21:30:52,376 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:31:00,052 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:31:01,160 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:31:13,221 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:31:13,359 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:31:25,185 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:31:25,268 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:32:38,015 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:32:38,015 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:32:51,535 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:32:55,579 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:32:55.579505] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:32:55.579505] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:32:55,581 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:32:55.579505] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:32:55,582 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:33:02,358 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:34:55,584 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:34:55,584 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:34:55,584 - [INFO] - ota_test:ota_test.py:416 - main() - 第 51 轮测试完成---【40/1000】
2025-07-10 21:34:55,584 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 52 轮测试
2025-07-10 21:35:16,612 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:35:16,628 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:35:16,628 - [INFO] - ota_test:ota_test.py:416 - main() - 第 52 轮测试完成---【40/1000】
2025-07-10 21:35:16,629 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 53 轮测试
2025-07-10 21:35:21,486 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:35:29,159 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:35:30,234 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:35:37,668 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:35:41,516 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:35:53,786 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:35:53,878 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:37:06,063 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:37:06,063 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:37:19,719 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:37:23,800 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:37:23.800137] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:37:23.800137] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:37:23,801 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:37:23.800137] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:37:23,801 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:37:31,027 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:39:23,799 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:39:23,799 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:39:23,800 - [INFO] - ota_test:ota_test.py:416 - main() - 第 53 轮测试完成---【41/1000】
2025-07-10 21:39:23,801 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 54 轮测试
2025-07-10 21:39:23,973 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:39:31,545 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:39:32,579 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:39:43,952 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:39:44,820 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:39:56,196 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:39:56,271 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:41:08,385 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:41:08,385 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:41:21,479 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:41:25,546 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:41:25.546796] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:41:25.546796] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:41:25,549 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:41:25.546796] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:41:25,550 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:41:32,630 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:43:25,567 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:43:25,567 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:43:25,567 - [INFO] - ota_test:ota_test.py:416 - main() - 第 54 轮测试完成---【42/1000】
2025-07-10 21:43:25,568 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 55 轮测试
2025-07-10 21:43:25,645 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:43:33,320 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:43:34,486 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:43:46,075 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:43:46,608 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:43:57,668 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:43:57,742 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:45:09,426 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:45:09,426 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:45:22,550 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:45:26,644 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:45:26.644279] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:45:26.644279] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:45:26,646 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:45:26.644279] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:45:26,647 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:45:33,613 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:47:26,659 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:47:26,659 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:47:26,659 - [INFO] - ota_test:ota_test.py:416 - main() - 第 55 轮测试完成---【43/1000】
2025-07-10 21:47:26,659 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 56 轮测试
2025-07-10 21:47:26,691 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:47:34,236 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:47:35,250 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:47:45,988 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:47:47,704 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:47:58,023 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:47:58,102 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:49:10,273 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:49:10,274 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:49:24,005 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:49:28,089 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:49:28.089418] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:49:28.089418] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:49:28,091 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:49:28.089418] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:49:28,091 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:49:35,323 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:51:28,101 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:51:28,101 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:51:28,101 - [INFO] - ota_test:ota_test.py:416 - main() - 第 56 轮测试完成---【44/1000】
2025-07-10 21:51:28,102 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 57 轮测试
2025-07-10 21:51:28,153 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:51:36,024 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:51:37,098 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:51:48,381 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:51:49,124 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:52:00,510 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:52:00,579 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:53:12,965 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:53:12,965 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:53:25,918 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:53:29,956 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:53:29.956831] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:53:29.956831] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:53:29,958 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:53:29.956831] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:53:29,958 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:53:37,291 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:55:29,958 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:55:29,958 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:55:29,960 - [INFO] - ota_test:ota_test.py:416 - main() - 第 57 轮测试完成---【45/1000】
2025-07-10 21:55:29,960 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 58 轮测试
2025-07-10 21:55:30,024 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:55:37,698 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:55:38,771 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:55:50,455 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:55:50,999 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 21:56:02,993 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 21:56:03,080 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 21:57:15,044 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:57:15,044 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 21:57:27,930 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 21:57:31,984 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 21:57:31.984139] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 21:57:31.984139] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:57:31,985 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 21:57:31.984139] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 21:57:31,985 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 21:57:39,336 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 21:59:31,982 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 21:59:31,982 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 21:59:31,982 - [INFO] - ota_test:ota_test.py:416 - main() - 第 58 轮测试完成---【46/1000】
2025-07-10 21:59:31,982 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 59 轮测试
2025-07-10 21:59:32,101 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 21:59:39,704 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 21:59:40,758 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 21:59:51,681 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 21:59:53,002 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:00:03,699 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:00:03,782 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:01:15,693 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:01:15,693 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:01:28,831 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:01:32,896 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:01:32.896333] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:01:32.896333] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:01:32,897 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:01:32.896333] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:01:32,898 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:01:39,755 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:03:32,906 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:03:32,907 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:03:32,907 - [INFO] - ota_test:ota_test.py:416 - main() - 第 59 轮测试完成---【47/1000】
2025-07-10 22:03:32,908 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 60 轮测试
2025-07-10 22:03:53,938 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:03:53,938 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:03:53,939 - [INFO] - ota_test:ota_test.py:416 - main() - 第 60 轮测试完成---【47/1000】
2025-07-10 22:03:53,939 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 61 轮测试
2025-07-10 22:03:54,045 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:04:01,590 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:04:02,667 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:04:14,713 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:04:14,956 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:04:26,700 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:04:26,774 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:05:38,454 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:05:38,454 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:05:51,904 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:05:55,975 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:05:55.975275] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:05:55.975275] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:05:55,975 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:05:55.975275] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:05:55,976 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:06:02,267 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:07:55,974 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:07:55,975 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:07:55,975 - [INFO] - ota_test:ota_test.py:416 - main() - 第 61 轮测试完成---【48/1000】
2025-07-10 22:07:55,976 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 62 轮测试
2025-07-10 22:08:17,004 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:08:17,005 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:08:17,005 - [INFO] - ota_test:ota_test.py:416 - main() - 第 62 轮测试完成---【48/1000】
2025-07-10 22:08:17,005 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 63 轮测试
2025-07-10 22:08:18,035 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:08:25,632 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:08:26,650 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:08:37,786 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:08:38,059 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:08:49,947 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:08:50,024 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:10:02,442 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:10:02,442 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:10:15,955 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:10:20,017 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:10:20.017908] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:10:20.017908] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:10:20,018 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:10:20.017908] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:10:20,018 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:10:26,790 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:12:20,012 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:12:20,012 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:12:20,013 - [INFO] - ota_test:ota_test.py:416 - main() - 第 63 轮测试完成---【49/1000】
2025-07-10 22:12:20,013 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 64 轮测试
2025-07-10 22:12:41,043 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:12:41,044 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:12:41,044 - [INFO] - ota_test:ota_test.py:416 - main() - 第 64 轮测试完成---【49/1000】
2025-07-10 22:12:41,045 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 65 轮测试
2025-07-10 22:13:02,082 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:13:02,082 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:13:02,083 - [INFO] - ota_test:ota_test.py:416 - main() - 第 65 轮测试完成---【49/1000】
2025-07-10 22:13:02,083 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 66 轮测试
2025-07-10 22:13:09,264 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:13:16,937 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:13:18,466 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:13:23,120 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:13:30,954 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:13:43,428 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:13:43,499 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:14:55,764 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:14:55,765 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:15:09,433 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:15:13,516 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:15:13.516499] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:15:13.516499] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:15:13,517 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:15:13.516499] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:15:13,518 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:15:20,488 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:17:13,525 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:17:13,525 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:17:13,525 - [INFO] - ota_test:ota_test.py:416 - main() - 第 66 轮测试完成---【50/1000】
2025-07-10 22:17:13,526 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 67 轮测试
2025-07-10 22:17:34,558 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:17:34,560 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:17:34,560 - [INFO] - ota_test:ota_test.py:416 - main() - 第 67 轮测试完成---【50/1000】
2025-07-10 22:17:34,560 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 68 轮测试
2025-07-10 22:17:34,729 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:17:42,375 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:17:43,436 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:17:55,129 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:17:55,600 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:18:06,996 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:18:07,070 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:19:18,909 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:19:18,909 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:19:32,194 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:19:36,263 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:19:36.263899] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:19:36.263899] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:19:36,264 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:19:36.263899] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:19:36,265 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:19:42,800 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:21:36,284 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:21:36,284 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:21:36,284 - [INFO] - ota_test:ota_test.py:416 - main() - 第 68 轮测试完成---【51/1000】
2025-07-10 22:21:36,284 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 69 轮测试
2025-07-10 22:21:36,354 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:21:43,993 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:21:45,067 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:21:56,092 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:21:57,322 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:22:08,661 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:22:08,744 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:23:20,351 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:23:20,351 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:23:34,059 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:23:38,121 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:23:38.121979] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:23:38.121979] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:23:38,124 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:23:38.121979] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:23:38,124 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:23:44,409 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:25:38,132 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:25:38,132 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:25:38,132 - [INFO] - ota_test:ota_test.py:416 - main() - 第 69 轮测试完成---【52/1000】
2025-07-10 22:25:38,133 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 70 轮测试
2025-07-10 22:25:59,165 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:25:59,179 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:25:59,179 - [INFO] - ota_test:ota_test.py:416 - main() - 第 70 轮测试完成---【52/1000】
2025-07-10 22:25:59,181 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 71 轮测试
2025-07-10 22:25:59,320 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:26:06,871 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:26:07,887 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:26:19,862 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:26:20,195 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:26:32,242 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:26:32,311 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:27:44,430 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:27:44,430 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:27:57,853 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:28:01,909 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:28:01.909755] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:28:01.909755] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:28:01,914 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:28:01.909755] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:28:01,914 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:28:09,072 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:30:01,927 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:30:01,927 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:30:01,928 - [INFO] - ota_test:ota_test.py:416 - main() - 第 71 轮测试完成---【53/1000】
2025-07-10 22:30:01,928 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 72 轮测试
2025-07-10 22:30:02,010 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:30:09,558 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:30:10,576 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:30:21,517 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:30:22,957 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:30:33,302 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:30:33,375 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:31:46,250 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:31:46,250 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:31:59,929 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:32:04,007 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:32:04.007347] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:32:04.007347] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:32:04,008 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:32:04.007347] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:32:04,009 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:32:10,280 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:34:04,028 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:34:04,028 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:34:04,028 - [INFO] - ota_test:ota_test.py:416 - main() - 第 72 轮测试完成---【54/1000】
2025-07-10 22:34:04,028 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 73 轮测试
2025-07-10 22:34:04,086 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:34:11,690 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:34:12,708 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:34:24,110 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:34:25,069 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:34:35,942 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:34:36,019 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:35:48,491 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:35:48,491 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:36:02,425 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:36:06,505 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:36:06.505547] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:36:06.505547] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:36:06,506 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:36:06.505547] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:36:06,506 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:36:12,802 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:38:06,521 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:38:06,522 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:38:06,522 - [INFO] - ota_test:ota_test.py:416 - main() - 第 73 轮测试完成---【55/1000】
2025-07-10 22:38:06,522 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 74 轮测试
2025-07-10 22:38:06,573 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:38:14,217 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:38:15,296 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:38:26,911 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:38:27,564 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:38:39,503 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:38:39,576 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:39:51,750 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:39:51,750 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:40:05,305 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:40:09,380 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:40:09.380890] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:40:09.380890] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:40:09,383 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:40:09.380890] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:40:09,383 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:40:16,055 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:42:09,397 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:42:09,398 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:42:09,398 - [INFO] - ota_test:ota_test.py:416 - main() - 第 74 轮测试完成---【56/1000】
2025-07-10 22:42:09,399 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 75 轮测试
2025-07-10 22:42:09,471 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:42:17,032 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:42:18,046 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:42:29,549 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:42:30,445 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:42:40,603 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:42:40,697 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:43:52,853 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:43:52,853 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:44:06,168 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:44:10,229 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:44:10.229453] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:44:10.229453] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:44:10,232 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:44:10.229453] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:44:10,232 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:44:16,684 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:46:10,237 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:46:10,237 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:46:10,237 - [INFO] - ota_test:ota_test.py:416 - main() - 第 75 轮测试完成---【57/1000】
2025-07-10 22:46:10,237 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 76 轮测试
2025-07-10 22:46:31,283 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:46:31,283 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:46:31,284 - [INFO] - ota_test:ota_test.py:416 - main() - 第 76 轮测试完成---【57/1000】
2025-07-10 22:46:31,284 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 77 轮测试
2025-07-10 22:46:31,410 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:46:39,008 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:46:40,025 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:46:51,479 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:46:52,331 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:47:03,797 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:47:03,874 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:48:16,127 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:48:16,127 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:48:29,356 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:48:33,423 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:48:33.422080] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:48:33.422080] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:48:33,425 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:48:33.422080] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:48:33,426 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:48:40,538 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:50:33,445 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:50:33,445 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:50:33,445 - [INFO] - ota_test:ota_test.py:416 - main() - 第 77 轮测试完成---【58/1000】
2025-07-10 22:50:33,446 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 78 轮测试
2025-07-10 22:50:33,488 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:50:41,406 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:50:42,488 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:50:53,968 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:50:54,471 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:51:05,546 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:51:05,623 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:52:17,849 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:52:17,849 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:52:31,007 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:52:35,069 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:52:35.069702] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:52:35.069702] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:52:35,071 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:52:35.069702] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:52:35,071 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:52:42,215 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:54:35,089 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:54:35,089 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:54:35,089 - [INFO] - ota_test:ota_test.py:416 - main() - 第 78 轮测试完成---【59/1000】
2025-07-10 22:54:35,089 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 79 轮测试
2025-07-10 22:54:35,154 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:54:42,974 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:54:44,054 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:54:55,243 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:54:56,123 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:55:06,897 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:55:06,985 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 22:56:19,806 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:56:19,806 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 22:56:33,878 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 22:56:37,943 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 22:56:37.943590] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 22:56:37.943590] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:56:37,946 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 22:56:37.943590] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 22:56:37,946 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 22:56:44,534 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 22:58:37,960 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 22:58:37,960 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 22:58:37,961 - [INFO] - ota_test:ota_test.py:416 - main() - 第 79 轮测试完成---【60/1000】
2025-07-10 22:58:37,961 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 80 轮测试
2025-07-10 22:58:58,980 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:58:58,980 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:58:58,980 - [INFO] - ota_test:ota_test.py:416 - main() - 第 80 轮测试完成---【60/1000】
2025-07-10 22:58:58,981 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 81 轮测试
2025-07-10 22:58:59,145 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 22:59:06,773 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 22:59:07,850 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 22:59:19,780 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 22:59:20,021 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 22:59:31,875 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 22:59:31,954 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:00:44,014 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:00:44,014 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:00:57,308 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:01:01,346 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:01:01.346629] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:01:01.346629] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:01:01,347 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:01:01.346629] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:01:01,347 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:01:08,851 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:03:01,366 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:03:01,367 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:03:01,367 - [INFO] - ota_test:ota_test.py:416 - main() - 第 81 轮测试完成---【61/1000】
2025-07-10 23:03:01,367 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 82 轮测试
2025-07-10 23:03:22,407 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:03:22,407 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:03:22,408 - [INFO] - ota_test:ota_test.py:416 - main() - 第 82 轮测试完成---【61/1000】
2025-07-10 23:03:22,408 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 83 轮测试
2025-07-10 23:03:22,522 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:03:30,091 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:03:31,107 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:03:42,748 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:03:43,449 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:03:54,175 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:03:54,258 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:05:06,340 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:05:06,340 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:05:19,455 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:05:23,563 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:05:23.563971] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:05:23.563971] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:05:23,565 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:05:23.563971] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:05:23,566 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:05:30,556 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:07:23,563 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:07:23,563 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:07:23,564 - [INFO] - ota_test:ota_test.py:416 - main() - 第 83 轮测试完成---【62/1000】
2025-07-10 23:07:23,564 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 84 轮测试
2025-07-10 23:07:23,775 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:07:31,853 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:07:32,977 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:07:44,157 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:07:44,613 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:07:56,096 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:07:56,190 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:09:08,221 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:09:08,221 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:09:21,900 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:09:25,981 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:09:25.981847] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:09:25.981847] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:09:25,983 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:09:25.981847] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:09:25,983 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:09:32,899 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:11:25,987 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:11:25,987 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:11:25,988 - [INFO] - ota_test:ota_test.py:416 - main() - 第 84 轮测试完成---【63/1000】
2025-07-10 23:11:25,988 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 85 轮测试
2025-07-10 23:11:26,059 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:11:33,831 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:11:35,166 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:11:47,032 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:11:47,108 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:11:59,602 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:11:59,673 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:13:11,480 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:13:11,480 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:13:25,044 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:13:29,158 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:13:29.158487] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:13:29.158487] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:13:29,160 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:13:29.158487] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:13:29,160 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:13:35,891 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:15:29,161 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:15:29,161 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:15:29,161 - [INFO] - ota_test:ota_test.py:416 - main() - 第 85 轮测试完成---【64/1000】
2025-07-10 23:15:29,162 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 86 轮测试
2025-07-10 23:15:29,361 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:15:36,921 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:15:37,938 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:15:49,075 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:15:50,213 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:16:00,683 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:16:00,757 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:17:12,337 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:17:12,337 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:17:25,631 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:17:29,683 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:17:29.683785] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:17:29.683785] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:17:29,685 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:17:29.683785] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:17:29,686 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:17:36,411 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:19:29,705 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:19:29,706 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:19:29,706 - [INFO] - ota_test:ota_test.py:416 - main() - 第 86 轮测试完成---【65/1000】
2025-07-10 23:19:29,707 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 87 轮测试
2025-07-10 23:19:50,745 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:19:50,745 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:19:50,745 - [INFO] - ota_test:ota_test.py:416 - main() - 第 87 轮测试完成---【65/1000】
2025-07-10 23:19:50,746 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 88 轮测试
2025-07-10 23:19:50,895 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:19:58,452 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:19:59,470 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:20:11,778 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:20:11,809 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:20:23,366 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:20:23,447 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:21:35,094 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:21:35,094 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:21:48,197 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:21:52,251 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:21:52.251896] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:21:52.251896] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:21:52,254 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:21:52.251896] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:21:52,254 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:21:59,379 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:23:52,260 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:23:52,260 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:23:52,261 - [INFO] - ota_test:ota_test.py:416 - main() - 第 88 轮测试完成---【66/1000】
2025-07-10 23:23:52,261 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 89 轮测试
2025-07-10 23:24:13,303 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:24:13,303 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:24:13,303 - [INFO] - ota_test:ota_test.py:416 - main() - 第 89 轮测试完成---【66/1000】
2025-07-10 23:24:13,304 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 90 轮测试
2025-07-10 23:24:13,451 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:24:21,104 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:24:22,166 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:24:33,995 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:24:34,342 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:24:45,593 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:24:45,673 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:25:57,590 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:25:57,590 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:26:10,966 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:26:15,046 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:26:15.046628] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:26:15.046628] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:26:15,047 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:26:15.046628] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:26:15,048 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:26:22,192 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:28:15,055 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:28:15,056 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:28:15,056 - [INFO] - ota_test:ota_test.py:416 - main() - 第 90 轮测试完成---【67/1000】
2025-07-10 23:28:15,057 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 91 轮测试
2025-07-10 23:28:36,100 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:28:36,101 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:28:36,102 - [INFO] - ota_test:ota_test.py:416 - main() - 第 91 轮测试完成---【67/1000】
2025-07-10 23:28:36,102 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 92 轮测试
2025-07-10 23:28:36,217 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:28:43,825 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:28:44,856 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:28:56,690 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:28:57,144 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:29:08,171 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:29:08,251 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:30:20,164 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:30:20,164 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:30:32,907 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:30:36,985 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:30:36.985992] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:30:36.985992] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:30:36,987 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:30:36.985992] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:30:36,987 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:30:44,517 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:32:36,990 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:32:36,991 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:32:36,991 - [INFO] - ota_test:ota_test.py:416 - main() - 第 92 轮测试完成---【68/1000】
2025-07-10 23:32:36,992 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 93 轮测试
2025-07-10 23:32:37,059 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:32:44,768 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:32:45,847 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:32:57,242 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:32:58,029 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:33:09,373 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:33:09,472 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:34:21,465 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:34:21,465 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:34:35,207 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:34:39,290 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:34:39.290985] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:34:39.290985] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:34:39,293 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:34:39.290985] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:34:39,294 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:34:45,856 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:36:39,306 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:36:39,306 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:36:39,306 - [INFO] - ota_test:ota_test.py:416 - main() - 第 93 轮测试完成---【69/1000】
2025-07-10 23:36:39,306 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 94 轮测试
2025-07-10 23:37:00,343 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:37:00,343 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:37:00,344 - [INFO] - ota_test:ota_test.py:416 - main() - 第 94 轮测试完成---【69/1000】
2025-07-10 23:37:00,344 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 95 轮测试
2025-07-10 23:37:00,435 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:37:07,995 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:37:09,011 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:37:20,619 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:37:21,394 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:37:32,346 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:37:32,423 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:38:44,442 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:38:44,443 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:38:57,952 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:39:02,011 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:39:02.011435] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:39:02.011435] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:39:02,012 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:39:02.011435] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:39:02,012 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:39:08,449 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:41:02,027 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:41:02,027 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:41:02,028 - [INFO] - ota_test:ota_test.py:416 - main() - 第 95 轮测试完成---【70/1000】
2025-07-10 23:41:02,028 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 96 轮测试
2025-07-10 23:41:02,306 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:41:10,389 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:41:11,406 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:41:22,942 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:41:23,079 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:41:34,416 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:41:34,496 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:42:46,337 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:42:46,337 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:42:59,411 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:43:03,474 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:43:03.474546] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:43:03.474546] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:43:03,475 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:43:03.474546] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:43:03,476 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:43:10,238 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:45:03,490 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:45:03,490 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:45:03,490 - [INFO] - ota_test:ota_test.py:416 - main() - 第 96 轮测试完成---【71/1000】
2025-07-10 23:45:03,491 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 97 轮测试
2025-07-10 23:45:03,626 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:45:11,211 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:45:12,289 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:45:24,208 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:45:24,512 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:45:36,031 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:45:36,118 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:46:48,013 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:46:48,014 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:47:01,704 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:47:05,759 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:47:05.759228] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:47:05.759228] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:47:05,761 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:47:05.759228] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:47:05,762 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:47:13,110 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:49:05,774 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:49:05,774 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:49:05,774 - [INFO] - ota_test:ota_test.py:416 - main() - 第 97 轮测试完成---【72/1000】
2025-07-10 23:49:05,775 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 98 轮测试
2025-07-10 23:49:26,821 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:49:26,822 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:49:26,823 - [INFO] - ota_test:ota_test.py:416 - main() - 第 98 轮测试完成---【72/1000】
2025-07-10 23:49:26,823 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 99 轮测试
2025-07-10 23:49:26,940 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:49:34,560 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:49:35,625 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:49:46,676 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:49:47,874 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:49:59,423 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:49:59,503 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:51:11,669 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:51:11,669 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:51:25,478 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:51:29,561 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:51:29.561681] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:51:29.561681] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:51:29,565 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:51:29.561681] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:51:29,565 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:51:36,372 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:53:29,572 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:53:29,572 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:53:29,573 - [INFO] - ota_test:ota_test.py:416 - main() - 第 99 轮测试完成---【73/1000】
2025-07-10 23:53:29,573 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 100 轮测试
2025-07-10 23:53:50,615 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:53:50,616 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:53:50,618 - [INFO] - ota_test:ota_test.py:416 - main() - 第 100 轮测试完成---【73/1000】
2025-07-10 23:53:50,618 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 101 轮测试
2025-07-10 23:53:50,726 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:53:58,327 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:53:59,415 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:54:11,017 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:54:11,652 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:54:25,092 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:54:25,176 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:55:36,800 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:55:36,800 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:55:50,288 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:55:54,334 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:55:54.334257] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:55:54.334257] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:55:54,336 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:55:54.334257] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:55:54,336 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-10 23:56:01,582 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-10 23:57:54,340 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-10 23:57:54,340 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-10 23:57:54,341 - [INFO] - ota_test:ota_test.py:416 - main() - 第 101 轮测试完成---【74/1000】
2025-07-10 23:57:54,341 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 102 轮测试
2025-07-10 23:57:54,438 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-10 23:58:01,993 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-10 23:58:03,010 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-10 23:58:14,119 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:58:15,379 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-10 23:58:26,136 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-10 23:58:26,224 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-10 23:59:37,722 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-10 23:59:37,722 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-10 23:59:51,336 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-10 23:59:55,417 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-10 23:59:55.417120] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-10 23:59:55.417120] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:59:55,418 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-10 23:59:55.417120] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-10 23:59:55,418 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:00:02,077 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:01:55,429 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:01:55,430 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:01:55,430 - [INFO] - ota_test:ota_test.py:416 - main() - 第 102 轮测试完成---【75/1000】
2025-07-11 00:01:55,430 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 103 轮测试
2025-07-11 00:01:55,695 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:02:03,366 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:02:04,611 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:02:15,875 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:02:16,466 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:02:28,029 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:02:28,110 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:03:39,925 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:03:39,925 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:03:53,237 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:03:57,320 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:03:57.320834] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:03:57.320834] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:03:57,321 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:03:57.320834] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:03:57,321 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:04:03,830 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:05:57,341 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:05:57,342 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:05:57,342 - [INFO] - ota_test:ota_test.py:416 - main() - 第 103 轮测试完成---【76/1000】
2025-07-11 00:05:57,343 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 104 轮测试
2025-07-11 00:06:18,382 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:06:18,382 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:06:18,383 - [INFO] - ota_test:ota_test.py:416 - main() - 第 104 轮测试完成---【76/1000】
2025-07-11 00:06:18,383 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 105 轮测试
2025-07-11 00:06:18,460 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:06:26,008 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:06:27,025 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:06:38,690 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:06:39,417 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:06:50,198 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:06:50,277 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:08:02,455 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:08:02,455 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:08:15,767 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:08:19,836 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:08:19.836099] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:08:19.836099] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:08:19,839 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:08:19.836099] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:08:19,839 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:08:26,648 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:10:19,855 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:10:19,855 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:10:19,856 - [INFO] - ota_test:ota_test.py:416 - main() - 第 105 轮测试完成---【77/1000】
2025-07-11 00:10:19,856 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 106 轮测试
2025-07-11 00:10:19,917 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:10:27,593 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:10:28,917 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:10:40,391 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:10:40,910 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:10:52,642 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:10:52,716 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:12:04,362 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:12:04,362 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:12:18,668 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:12:22,737 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:12:22.737573] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:12:22.737573] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:12:22,738 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:12:22.737573] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:12:22,739 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:12:29,317 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:14:22,754 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:14:22,754 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:14:22,754 - [INFO] - ota_test:ota_test.py:416 - main() - 第 106 轮测试完成---【78/1000】
2025-07-11 00:14:22,755 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 107 轮测试
2025-07-11 00:14:22,875 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:14:30,461 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:14:31,480 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:14:43,794 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:14:43,840 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:14:55,540 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:14:55,637 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:16:07,453 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:16:07,454 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:16:21,152 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:16:25,226 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:16:25.226575] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:16:25.226575] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:16:25,229 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:16:25.226575] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:16:25,230 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:16:31,296 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:18:25,236 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:18:25,236 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:18:25,237 - [INFO] - ota_test:ota_test.py:416 - main() - 第 107 轮测试完成---【79/1000】
2025-07-11 00:18:25,237 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 108 轮测试
2025-07-11 00:18:25,363 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:18:33,185 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:18:34,718 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:18:46,280 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:18:46,551 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:18:59,296 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:18:59,372 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:20:11,547 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:20:11,547 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:20:25,291 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:20:29,374 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:20:29.374456] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:20:29.374456] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:20:29,376 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:20:29.374456] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:20:29,376 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:20:35,557 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:22:29,385 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:22:29,387 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:22:29,388 - [INFO] - ota_test:ota_test.py:416 - main() - 第 108 轮测试完成---【80/1000】
2025-07-11 00:22:29,388 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 109 轮测试
2025-07-11 00:22:50,425 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:22:50,425 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:22:50,426 - [INFO] - ota_test:ota_test.py:416 - main() - 第 109 轮测试完成---【80/1000】
2025-07-11 00:22:50,426 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 110 轮测试
2025-07-11 00:22:50,523 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:22:58,168 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:22:59,242 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:23:11,482 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:23:11,738 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:23:24,107 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:23:24,210 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:24:36,563 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:24:36,563 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:24:50,090 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:24:54,144 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:24:54.144077] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:24:54.144077] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:24:54,147 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:24:54.144077] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:24:54,147 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:25:01,133 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:26:54,142 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:26:54,142 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:26:54,142 - [INFO] - ota_test:ota_test.py:416 - main() - 第 110 轮测试完成---【81/1000】
2025-07-11 00:26:54,143 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 111 轮测试
2025-07-11 00:26:54,301 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:27:01,898 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:27:02,963 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:27:14,001 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:27:15,170 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:27:27,994 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:27:28,072 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:28:39,671 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:28:39,672 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:28:52,773 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:28:56,831 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:28:56.831875] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:28:56.831875] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:28:56,834 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:28:56.831875] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:28:56,834 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:29:03,685 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:30:56,839 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:30:56,839 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:30:56,839 - [INFO] - ota_test:ota_test.py:416 - main() - 第 111 轮测试完成---【82/1000】
2025-07-11 00:30:56,839 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 112 轮测试
2025-07-11 00:30:56,923 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:31:04,475 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:31:05,506 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:31:17,071 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:31:17,891 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:31:29,650 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:31:29,764 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:32:41,399 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:32:41,400 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:32:54,535 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:32:58,622 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:32:58.622145] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:32:58.622145] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:32:58,624 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:32:58.622145] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:32:58,624 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:33:05,938 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:34:58,638 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:34:58,638 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:34:58,639 - [INFO] - ota_test:ota_test.py:416 - main() - 第 112 轮测试完成---【83/1000】
2025-07-11 00:34:58,639 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 113 轮测试
2025-07-11 00:35:19,669 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:35:19,670 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:35:19,670 - [INFO] - ota_test:ota_test.py:416 - main() - 第 113 轮测试完成---【83/1000】
2025-07-11 00:35:19,670 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 114 轮测试
2025-07-11 00:35:19,701 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:35:27,345 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:35:28,426 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:35:39,719 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:35:40,705 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:35:51,591 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:35:51,671 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:37:03,235 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:37:03,237 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:37:16,387 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:37:20,444 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:37:20.444303] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:37:20.444303] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:37:20,446 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:37:20.444303] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:37:20,446 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:37:27,295 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:39:20,458 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:39:20,459 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:39:20,459 - [INFO] - ota_test:ota_test.py:416 - main() - 第 114 轮测试完成---【84/1000】
2025-07-11 00:39:20,460 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 115 轮测试
2025-07-11 00:39:41,496 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:39:41,497 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:39:41,497 - [INFO] - ota_test:ota_test.py:416 - main() - 第 115 轮测试完成---【84/1000】
2025-07-11 00:39:41,498 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 116 轮测试
2025-07-11 00:39:41,631 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:39:49,307 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:39:50,428 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:40:02,102 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:40:02,525 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:40:13,950 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:40:14,025 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:41:26,440 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:41:26,440 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:41:39,955 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:41:44,008 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:41:44.008314] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:41:44.008314] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:41:44,009 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:41:44.008314] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:41:44,009 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:41:50,949 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:43:44,027 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:43:44,028 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:43:44,029 - [INFO] - ota_test:ota_test.py:416 - main() - 第 116 轮测试完成---【85/1000】
2025-07-11 00:43:44,029 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 117 轮测试
2025-07-11 00:43:44,523 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:43:52,433 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:43:53,455 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:44:05,063 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:44:05,198 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:44:17,663 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:44:17,740 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:45:29,326 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:45:29,326 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:45:42,637 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:45:46,730 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:45:46.730691] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:45:46.730691] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:45:46,732 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:45:46.730691] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:45:46,732 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:45:53,595 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:47:46,739 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:47:46,739 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:47:46,740 - [INFO] - ota_test:ota_test.py:416 - main() - 第 117 轮测试完成---【86/1000】
2025-07-11 00:47:46,740 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 118 轮测试
2025-07-11 00:47:46,868 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:47:54,466 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:47:55,495 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:48:07,487 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:48:07,761 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:48:19,945 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:48:20,019 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:49:31,833 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:49:31,833 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:49:45,378 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:49:49,446 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:49:49.446592] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:49:49.446592] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:49:49,447 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:49:49.446592] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:49:49,448 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:49:56,180 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:51:49,465 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:51:49,465 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:51:49,467 - [INFO] - ota_test:ota_test.py:416 - main() - 第 118 轮测试完成---【87/1000】
2025-07-11 00:51:49,467 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 119 轮测试
2025-07-11 00:52:10,489 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:52:10,504 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:52:10,504 - [INFO] - ota_test:ota_test.py:416 - main() - 第 119 轮测试完成---【87/1000】
2025-07-11 00:52:10,504 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 120 轮测试
2025-07-11 00:52:10,591 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:52:18,201 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:52:19,234 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:52:30,617 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:52:31,558 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:52:43,321 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:52:43,396 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:53:55,811 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:53:55,811 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:54:09,124 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:54:13,176 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:54:13.176790] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:54:13.176790] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:54:13,178 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:54:13.176790] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:54:13,178 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:54:20,171 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 00:56:13,187 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 00:56:13,187 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 00:56:13,187 - [INFO] - ota_test:ota_test.py:416 - main() - 第 120 轮测试完成---【88/1000】
2025-07-11 00:56:13,189 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 121 轮测试
2025-07-11 00:56:34,229 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:56:34,230 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:56:34,230 - [INFO] - ota_test:ota_test.py:416 - main() - 第 121 轮测试完成---【88/1000】
2025-07-11 00:56:34,231 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 122 轮测试
2025-07-11 00:56:34,992 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 00:56:42,596 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 00:56:43,660 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 00:56:55,269 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 00:56:55,406 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:57:07,924 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 00:57:07,992 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 00:58:20,214 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 00:58:20,214 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 00:58:33,326 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 00:58:37,405 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 00:58:37.405672] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 00:58:37.405672] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:58:37,408 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 00:58:37.405672] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 00:58:37,409 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 00:58:44,655 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:00:37,411 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:00:37,411 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:00:37,411 - [INFO] - ota_test:ota_test.py:416 - main() - 第 122 轮测试完成---【89/1000】
2025-07-11 01:00:37,411 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 123 轮测试
2025-07-11 01:00:37,540 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:00:45,262 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:00:46,339 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:00:57,558 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:00:58,454 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:01:09,571 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:01:09,649 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:02:20,987 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:02:20,987 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:02:33,964 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:02:38,016 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:02:38.016955] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:02:38.016955] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:02:38,021 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:02:38.016955] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:02:38,022 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:02:45,505 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:04:38,035 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:04:38,035 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:04:38,035 - [INFO] - ota_test:ota_test.py:416 - main() - 第 123 轮测试完成---【90/1000】
2025-07-11 01:04:38,036 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 124 轮测试
2025-07-11 01:04:59,068 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:04:59,068 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:04:59,069 - [INFO] - ota_test:ota_test.py:416 - main() - 第 124 轮测试完成---【90/1000】
2025-07-11 01:04:59,069 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 125 轮测试
2025-07-11 01:04:59,219 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:05:06,756 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:05:07,776 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:05:18,892 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:05:20,106 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:05:30,402 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:05:30,472 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:06:43,511 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:06:43,511 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:06:56,519 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:07:00,629 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:07:00.629048] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:07:00.629048] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:07:00,630 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:07:00.629048] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:07:00,631 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:07:08,062 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:09:00,634 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:09:00,634 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:09:00,634 - [INFO] - ota_test:ota_test.py:416 - main() - 第 125 轮测试完成---【91/1000】
2025-07-11 01:09:00,635 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 126 轮测试
2025-07-11 01:09:00,737 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:09:08,278 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:09:09,297 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:09:20,707 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:09:21,693 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:09:32,376 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:09:32,455 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:10:45,485 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:10:45,485 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:10:59,004 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:11:03,059 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:11:03.059703] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:11:03.059703] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:11:03,060 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:11:03.059703] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:11:03,060 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:11:09,805 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:13:03,078 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:13:03,080 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:13:03,080 - [INFO] - ota_test:ota_test.py:416 - main() - 第 126 轮测试完成---【92/1000】
2025-07-11 01:13:03,081 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 127 轮测试
2025-07-11 01:13:03,221 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:13:10,776 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:13:11,796 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:13:23,009 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:13:24,135 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:13:35,122 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:13:35,205 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:14:47,373 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:14:47,373 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:15:00,889 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:15:05,002 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:15:05.002644] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:15:05.002644] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:15:05,004 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:15:05.002644] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:15:05,004 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:15:12,174 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:17:05,011 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:17:05,012 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:17:05,012 - [INFO] - ota_test:ota_test.py:416 - main() - 第 127 轮测试完成---【93/1000】
2025-07-11 01:17:05,012 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 128 轮测试
2025-07-11 01:17:26,044 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:17:26,044 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:17:26,044 - [INFO] - ota_test:ota_test.py:416 - main() - 第 128 轮测试完成---【93/1000】
2025-07-11 01:17:26,046 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 129 轮测试
2025-07-11 01:17:26,133 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:17:33,714 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:17:34,744 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:17:46,009 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:17:47,101 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:17:57,828 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:17:57,909 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:19:09,518 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:19:09,518 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:19:22,422 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:19:26,517 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:19:26.517896] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:19:26.517896] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:19:26,520 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:19:26.517896] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:19:26,521 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:19:33,959 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:21:26,533 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:21:26,533 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:21:26,533 - [INFO] - ota_test:ota_test.py:416 - main() - 第 129 轮测试完成---【94/1000】
2025-07-11 01:21:26,533 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 130 轮测试
2025-07-11 01:21:26,626 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:21:34,258 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:21:35,320 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:21:46,913 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:21:47,565 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:21:59,498 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:21:59,574 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:23:11,533 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:23:11,533 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:23:24,701 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:23:28,780 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:23:28.780824] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:23:28.780824] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:23:28,782 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:23:28.780824] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:23:28,782 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:23:35,985 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:25:28,785 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:25:28,786 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:25:28,787 - [INFO] - ota_test:ota_test.py:416 - main() - 第 130 轮测试完成---【95/1000】
2025-07-11 01:25:28,787 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 131 轮测试
2025-07-11 01:25:28,907 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:25:36,639 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:25:37,748 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:25:49,694 - [ERROR] - ota_test:ota_test.py:325 - get_current_local_version() - 192.168.1.36：获取版本号失败: list index out of range
2025-07-11 01:25:49,694 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：192.168.1.36：获取版本号失败: list index out of range
2025-07-11 01:25:49,815 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:25:49,816 - [INFO] - ota_test:ota_test.py:416 - main() - 第 131 轮测试完成---【95/1000】
2025-07-11 01:25:49,817 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 132 轮测试
2025-07-11 01:25:49,836 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:25:57,517 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:25:58,945 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:26:01,745 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:26:01,745 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:26:01,746 - [INFO] - ota_test:ota_test.py:148 - cmd_sender() - 192.168.1.36: 连接已关闭，尝试重新连接...
2025-07-11 01:26:10,855 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:26:22,283 - [WARNING] - ota_test:ota_test.py:193 - cmd_sender() - 192.168.1.36：连接失败: Failed to connect: [WinError 121] 信号灯超时时间已到，等待30秒后重试...
2025-07-11 01:26:52,284 - [INFO] - ota_test:ota_test.py:148 - cmd_sender() - 192.168.1.36: 连接已关闭，尝试重新连接...
2025-07-11 01:26:52,405 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:26:59,975 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:27:01,050 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:27:05,066 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:27:16,533 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:27:16,622 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:28:28,818 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:28:28,818 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:28:42,122 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:28:46,188 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:28:46.188868] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:28:46.188868] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:28:46,191 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:28:46.188868] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:28:46,191 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:28:53,006 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:30:46,202 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:30:46,202 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:30:46,202 - [INFO] - ota_test:ota_test.py:416 - main() - 第 132 轮测试完成---【96/1000】
2025-07-11 01:30:46,202 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 133 轮测试
2025-07-11 01:31:07,231 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:31:07,246 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:31:07,246 - [INFO] - ota_test:ota_test.py:416 - main() - 第 133 轮测试完成---【96/1000】
2025-07-11 01:31:07,248 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 134 轮测试
2025-07-11 01:31:07,387 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:31:14,995 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:31:16,047 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:31:28,287 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:31:28,484 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:31:40,728 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:31:40,812 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:32:52,522 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:32:52,522 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:33:05,706 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:33:09,750 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:33:09.750629] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:33:09.750629] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:33:09,754 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:33:09.750629] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:33:09,754 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:33:16,625 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:35:09,763 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:35:09,763 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:35:09,763 - [INFO] - ota_test:ota_test.py:416 - main() - 第 134 轮测试完成---【97/1000】
2025-07-11 01:35:09,763 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 135 轮测试
2025-07-11 01:35:10,074 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:35:10,932 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:35:10,932 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: 'NoneType' object has no attribute 'write'
2025-07-11 01:35:30,804 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:35:30,804 - [INFO] - ota_test:ota_test.py:416 - main() - 第 135 轮测试完成---【97/1000】
2025-07-11 01:35:30,806 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 136 轮测试
2025-07-11 01:35:37,926 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:35:45,551 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:35:46,612 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:35:51,851 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:35:57,664 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:36:09,261 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:36:09,340 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:37:21,687 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:37:21,687 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:37:35,451 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:37:39,502 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:37:39.502416] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:37:39.502416] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:37:39,503 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:37:39.502416] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:37:39,504 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:37:46,723 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:39:39,520 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:39:39,520 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:39:39,521 - [INFO] - ota_test:ota_test.py:416 - main() - 第 136 轮测试完成---【98/1000】
2025-07-11 01:39:39,521 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 137 轮测试
2025-07-11 01:40:00,547 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:40:00,548 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:40:00,549 - [INFO] - ota_test:ota_test.py:416 - main() - 第 137 轮测试完成---【98/1000】
2025-07-11 01:40:00,549 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 138 轮测试
2025-07-11 01:40:00,692 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:40:08,582 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:40:09,673 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:40:21,028 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:40:21,575 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:40:32,288 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:40:32,365 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:41:44,375 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:41:44,376 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:41:57,587 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:42:01,643 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:42:01.643976] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:42:01.643976] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:42:01,645 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:42:01.643976] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:42:01,645 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:42:08,815 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:44:01,645 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:44:01,645 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:44:01,646 - [INFO] - ota_test:ota_test.py:416 - main() - 第 138 轮测试完成---【99/1000】
2025-07-11 01:44:01,646 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 139 轮测试
2025-07-11 01:44:01,813 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:44:09,401 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:44:10,464 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:44:21,245 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:44:22,700 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:44:33,268 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:44:33,352 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:45:45,327 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:45:45,327 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:45:58,641 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:46:02,689 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:46:02.689738] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:46:02.689738] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:46:02,690 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:46:02.689738] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:46:02,691 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:46:09,766 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:48:02,700 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:48:02,700 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:48:02,701 - [INFO] - ota_test:ota_test.py:416 - main() - 第 139 轮测试完成---【100/1000】
2025-07-11 01:48:02,702 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 140 轮测试
2025-07-11 01:48:23,751 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:48:23,751 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:48:23,751 - [INFO] - ota_test:ota_test.py:416 - main() - 第 140 轮测试完成---【100/1000】
2025-07-11 01:48:23,752 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 141 轮测试
2025-07-11 01:48:26,963 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:48:34,540 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:48:35,559 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:48:44,783 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:48:47,651 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:48:59,734 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:48:59,808 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:50:12,596 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:50:12,597 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:50:26,142 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:50:30,210 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:50:30.210016] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:50:30.210016] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:50:30,212 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:50:30.210016] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:50:30,212 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:50:36,827 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:52:30,232 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:52:30,232 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:52:30,232 - [INFO] - ota_test:ota_test.py:416 - main() - 第 141 轮测试完成---【101/1000】
2025-07-11 01:52:30,233 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 142 轮测试
2025-07-11 01:52:51,260 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:52:51,275 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:52:51,275 - [INFO] - ota_test:ota_test.py:416 - main() - 第 142 轮测试完成---【101/1000】
2025-07-11 01:52:51,275 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 143 轮测试
2025-07-11 01:52:51,976 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:52:59,527 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:53:00,542 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:53:12,319 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:53:12,531 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:53:25,348 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:53:25,425 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:54:37,414 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:54:37,415 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:54:50,504 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:54:54,564 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:54:54.564165] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:54:54.564165] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:54:54,565 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:54:54.564165] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:54:54,565 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:55:01,141 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 01:56:54,577 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 01:56:54,577 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 01:56:54,577 - [INFO] - ota_test:ota_test.py:416 - main() - 第 143 轮测试完成---【102/1000】
2025-07-11 01:56:54,579 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 144 轮测试
2025-07-11 01:56:54,726 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 01:57:02,292 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 01:57:03,319 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 01:57:14,484 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:57:15,635 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 01:57:26,331 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 01:57:26,411 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 01:58:38,285 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 01:58:38,285 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 01:58:51,771 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 01:58:55,826 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 01:58:55.826440] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 01:58:55.826440] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:58:55,828 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 01:58:55.826440] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 01:58:55,828 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 01:59:02,707 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:00:55,847 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:00:55,847 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:00:55,848 - [INFO] - ota_test:ota_test.py:416 - main() - 第 144 轮测试完成---【103/1000】
2025-07-11 02:00:55,848 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 145 轮测试
2025-07-11 02:00:56,333 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:01:04,214 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:01:05,336 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:01:16,702 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:01:16,885 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:01:29,055 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:01:29,122 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:02:42,075 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:02:42,076 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:02:55,073 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:02:59,101 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:02:59.101678] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:02:59.101678] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:02:59,102 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:02:59.101678] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:02:59,103 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:03:06,187 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:04:59,119 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:04:59,120 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:04:59,121 - [INFO] - ota_test:ota_test.py:416 - main() - 第 145 轮测试完成---【104/1000】
2025-07-11 02:04:59,121 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 146 轮测试
2025-07-11 02:05:20,168 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:05:20,168 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:05:20,168 - [INFO] - ota_test:ota_test.py:416 - main() - 第 146 轮测试完成---【104/1000】
2025-07-11 02:05:20,169 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 147 轮测试
2025-07-11 02:05:20,324 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:05:27,916 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:05:28,939 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:05:40,972 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:05:41,200 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:05:53,055 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:05:53,129 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:07:04,998 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:07:04,999 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:07:18,865 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:07:22,941 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:07:22.941676] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:07:22.941676] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:07:22,943 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:07:22.941676] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:07:22,943 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:07:29,451 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:09:22,942 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:09:22,943 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:09:22,943 - [INFO] - ota_test:ota_test.py:416 - main() - 第 147 轮测试完成---【105/1000】
2025-07-11 02:09:22,943 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 148 轮测试
2025-07-11 02:09:23,220 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:09:31,626 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:09:32,838 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:09:43,978 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:09:44,098 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:09:57,382 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:09:57,457 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:11:10,076 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:11:10,076 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:11:23,318 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:11:27,369 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:11:27.369099] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:11:27.369099] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:11:27,372 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:11:27.369099] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:11:27,372 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:11:33,950 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:13:27,375 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:13:27,375 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:13:27,375 - [INFO] - ota_test:ota_test.py:416 - main() - 第 148 轮测试完成---【106/1000】
2025-07-11 02:13:27,377 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 149 轮测试
2025-07-11 02:13:27,403 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:13:35,065 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:13:36,094 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:13:47,368 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:13:48,415 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:13:59,514 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:13:59,606 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:15:11,541 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:15:11,541 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:15:24,760 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:15:28,825 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:15:28.825833] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:15:28.825833] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:15:28,826 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:15:28.825833] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:15:28,827 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:15:35,818 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:17:28,836 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:17:28,836 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:17:28,836 - [INFO] - ota_test:ota_test.py:416 - main() - 第 149 轮测试完成---【107/1000】
2025-07-11 02:17:28,837 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 150 轮测试
2025-07-11 02:17:28,864 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:17:36,752 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:17:37,997 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:17:49,903 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:17:50,266 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:18:02,558 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:18:02,643 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:19:14,345 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:19:14,346 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:19:27,744 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:19:31,799 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:19:31.799439] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:19:31.799439] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:19:31,800 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:19:31.799439] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:19:31,801 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:19:38,975 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:21:31,813 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:21:31,815 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:21:31,815 - [INFO] - ota_test:ota_test.py:416 - main() - 第 150 轮测试完成---【108/1000】
2025-07-11 02:21:31,816 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 151 轮测试
2025-07-11 02:21:31,902 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:21:39,540 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:21:40,618 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:21:52,154 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:21:52,865 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:22:04,484 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:22:04,564 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:23:16,520 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:23:16,520 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:23:29,831 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:23:33,897 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:23:33.897263] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:23:33.897263] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:23:33,899 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:23:33.897263] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:23:33,900 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:23:40,795 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:25:33,910 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:25:33,910 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:25:33,910 - [INFO] - ota_test:ota_test.py:416 - main() - 第 151 轮测试完成---【109/1000】
2025-07-11 02:25:33,910 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 152 轮测试
2025-07-11 02:25:34,041 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:25:41,644 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:25:42,706 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:25:53,758 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:25:54,955 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:26:06,951 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:26:07,032 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:27:18,953 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:27:18,953 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:27:32,125 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:27:36,197 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:27:36.197605] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:27:36.197605] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:27:36,200 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:27:36.197605] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:27:36,201 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:27:43,270 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:29:36,212 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:29:36,212 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:29:36,212 - [INFO] - ota_test:ota_test.py:416 - main() - 第 152 轮测试完成---【110/1000】
2025-07-11 02:29:36,213 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 153 轮测试
2025-07-11 02:29:36,321 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:29:43,924 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:29:45,014 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:29:57,263 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:29:57,264 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:30:09,396 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:30:09,479 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:31:21,604 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:31:21,605 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:31:34,806 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:31:38,887 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:31:38.887349] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:31:38.887349] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:31:38,888 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:31:38.887349] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:31:38,888 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:31:45,834 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:33:38,912 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:33:38,913 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:33:38,914 - [INFO] - ota_test:ota_test.py:416 - main() - 第 153 轮测试完成---【111/1000】
2025-07-11 02:33:38,915 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 154 轮测试
2025-07-11 02:33:39,155 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:33:47,039 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:33:48,099 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:33:59,652 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:33:59,955 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:34:11,273 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:34:11,360 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:35:23,199 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:35:23,200 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:35:36,058 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:35:40,105 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:35:40.103919] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:35:40.103919] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:35:40,107 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:35:40.103919] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:35:40,108 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:35:47,488 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:37:40,122 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:37:40,122 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:37:40,123 - [INFO] - ota_test:ota_test.py:416 - main() - 第 154 轮测试完成---【112/1000】
2025-07-11 02:37:40,123 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 155 轮测试
2025-07-11 02:37:40,270 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:37:47,826 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:37:48,844 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:38:00,028 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:38:01,136 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:38:11,952 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:38:12,032 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:39:24,534 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:39:24,535 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:39:37,728 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:39:41,831 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:39:41.831366] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:39:41.831366] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:39:41,834 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:39:41.831366] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:39:41,834 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:39:48,567 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:41:41,842 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:41:41,843 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:41:41,843 - [INFO] - ota_test:ota_test.py:416 - main() - 第 155 轮测试完成---【113/1000】
2025-07-11 02:41:41,844 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 156 轮测试
2025-07-11 02:41:42,080 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:41:49,964 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:41:51,072 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:42:02,090 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:42:02,893 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:42:14,610 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:42:14,689 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:43:27,305 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:43:27,305 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:43:40,659 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:43:44,741 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:43:44.741715] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:43:44.741715] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:43:44,745 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:43:44.741715] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:43:44,745 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:43:51,577 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:45:44,756 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:45:44,756 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:45:44,757 - [INFO] - ota_test:ota_test.py:416 - main() - 第 156 轮测试完成---【114/1000】
2025-07-11 02:45:44,757 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 157 轮测试
2025-07-11 02:46:05,802 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:46:05,804 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:46:05,804 - [INFO] - ota_test:ota_test.py:416 - main() - 第 157 轮测试完成---【114/1000】
2025-07-11 02:46:05,804 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 158 轮测试
2025-07-11 02:46:05,874 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:46:13,461 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:46:14,480 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:46:26,287 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:46:26,849 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:46:38,183 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:46:38,276 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:47:50,471 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:47:50,472 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:48:03,588 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:48:07,653 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:48:07.653788] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:48:07.653788] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:48:07,654 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:48:07.653788] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:48:07,655 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:48:14,900 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:50:07,656 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:50:07,657 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:50:07,658 - [INFO] - ota_test:ota_test.py:416 - main() - 第 158 轮测试完成---【115/1000】
2025-07-11 02:50:07,658 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 159 轮测试
2025-07-11 02:50:07,941 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:50:15,611 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:50:16,734 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:50:27,760 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:50:28,700 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:50:39,258 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:50:39,341 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:51:51,936 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:51:51,936 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:52:05,484 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:52:09,512 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:52:09.512747] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:52:09.512747] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:52:09,516 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:52:09.512747] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:52:09,517 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:52:16,440 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:54:09,534 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:54:09,534 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:54:09,535 - [INFO] - ota_test:ota_test.py:416 - main() - 第 159 轮测试完成---【116/1000】
2025-07-11 02:54:09,535 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 160 轮测试
2025-07-11 02:54:09,670 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:54:17,427 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:54:18,445 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:54:29,671 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:54:30,583 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:54:43,563 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:54:43,643 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 02:55:55,052 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:55:55,052 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 02:56:09,069 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 02:56:13,126 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 02:56:13.126253] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 02:56:13.126253] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:56:13,129 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 02:56:13.126253] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 02:56:13,130 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 02:56:20,410 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 02:58:13,143 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 02:58:13,143 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 02:58:13,145 - [INFO] - ota_test:ota_test.py:416 - main() - 第 160 轮测试完成---【117/1000】
2025-07-11 02:58:13,146 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 161 轮测试
2025-07-11 02:58:34,166 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:58:34,181 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:58:34,181 - [INFO] - ota_test:ota_test.py:416 - main() - 第 161 轮测试完成---【117/1000】
2025-07-11 02:58:34,181 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 162 轮测试
2025-07-11 02:58:35,034 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 02:58:42,642 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 02:58:43,720 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 02:58:55,228 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 02:58:55,274 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 02:59:07,665 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 02:59:07,752 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:00:20,346 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:00:20,346 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:00:33,162 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:00:37,218 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:00:37.218239] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:00:37.218239] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:00:37,221 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:00:37.218239] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:00:37,221 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:00:44,741 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:02:37,232 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:02:37,232 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:02:37,232 - [INFO] - ota_test:ota_test.py:416 - main() - 第 162 轮测试完成---【118/1000】
2025-07-11 03:02:37,233 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 163 轮测试
2025-07-11 03:02:58,256 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:02:58,258 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:02:58,258 - [INFO] - ota_test:ota_test.py:416 - main() - 第 163 轮测试完成---【118/1000】
2025-07-11 03:02:58,259 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 164 轮测试
2025-07-11 03:02:58,410 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:03:05,942 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:03:06,959 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:03:18,069 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:03:19,297 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:03:30,141 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:03:30,220 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:04:42,936 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:04:42,936 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:04:56,333 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:05:00,374 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:05:00.374044] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:05:00.374044] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:05:00,377 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:05:00.374044] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:05:00,378 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:05:07,038 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:07:00,393 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:07:00,393 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:07:00,394 - [INFO] - ota_test:ota_test.py:416 - main() - 第 164 轮测试完成---【119/1000】
2025-07-11 03:07:00,394 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 165 轮测试
2025-07-11 03:07:00,544 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:07:08,103 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:07:09,121 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:07:20,107 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:07:21,430 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:07:31,775 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:07:31,858 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:08:43,252 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:08:43,252 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:08:57,177 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:09:01,238 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:09:01.238847] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:09:01.238847] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:09:01,239 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:09:01.238847] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:09:01,240 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:09:08,049 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:11:01,251 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:11:01,252 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:11:01,252 - [INFO] - ota_test:ota_test.py:416 - main() - 第 165 轮测试完成---【120/1000】
2025-07-11 03:11:01,253 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 166 轮测试
2025-07-11 03:11:01,393 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:11:09,162 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:11:10,195 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:11:21,816 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:11:22,285 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:11:33,686 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:11:33,770 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:12:46,142 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:12:46,143 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:12:59,047 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:13:03,107 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:13:03.107697] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:13:03.107697] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:13:03,108 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:13:03.107697] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:13:03,109 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:13:10,476 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:15:03,123 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:15:03,124 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:15:03,125 - [INFO] - ota_test:ota_test.py:416 - main() - 第 166 轮测试完成---【121/1000】
2025-07-11 03:15:03,125 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 167 轮测试
2025-07-11 03:15:24,172 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:15:24,172 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:15:24,173 - [INFO] - ota_test:ota_test.py:416 - main() - 第 167 轮测试完成---【121/1000】
2025-07-11 03:15:24,173 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 168 轮测试
2025-07-11 03:15:24,302 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:15:31,904 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:15:32,934 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:15:44,069 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:15:45,220 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:15:56,785 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:15:56,865 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:17:10,134 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:17:10,134 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:17:22,838 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:17:26,917 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:17:26.917495] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:17:26.917495] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:17:26,920 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:17:26.917495] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:17:26,921 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:17:34,098 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:19:26,940 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:19:26,940 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:19:26,940 - [INFO] - ota_test:ota_test.py:416 - main() - 第 168 轮测试完成---【122/1000】
2025-07-11 03:19:26,941 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 169 轮测试
2025-07-11 03:19:47,970 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:19:47,970 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:19:47,971 - [INFO] - ota_test:ota_test.py:416 - main() - 第 169 轮测试完成---【122/1000】
2025-07-11 03:19:47,971 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 170 轮测试
2025-07-11 03:19:48,086 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:19:55,647 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:19:56,676 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:20:08,118 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:20:09,012 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:20:21,013 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:20:21,094 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:21:32,898 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:21:32,898 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:21:46,218 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:21:50,322 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:21:50.322312] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:21:50.322312] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:21:50,326 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:21:50.322312] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:21:50,326 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:21:57,067 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:23:50,340 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:23:50,340 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:23:50,340 - [INFO] - ota_test:ota_test.py:416 - main() - 第 170 轮测试完成---【123/1000】
2025-07-11 03:23:50,340 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 171 轮测试
2025-07-11 03:23:50,364 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:23:57,901 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:23:58,966 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:24:09,724 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:24:11,390 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:24:21,909 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:24:21,989 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:25:34,674 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:25:34,674 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:25:48,075 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:25:52,133 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:25:52.133431] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:25:52.133431] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:25:52,136 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:25:52.133431] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:25:52,137 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:25:59,111 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:27:52,157 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:27:52,157 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:27:52,157 - [INFO] - ota_test:ota_test.py:416 - main() - 第 171 轮测试完成---【124/1000】
2025-07-11 03:27:52,157 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 172 轮测试
2025-07-11 03:27:52,441 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:28:00,276 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:28:01,298 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:28:12,438 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:28:13,197 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:28:24,545 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:28:24,619 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:29:36,288 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:29:36,288 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:29:49,138 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:29:53,203 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:29:53.203602] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:29:53.203602] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:29:53,205 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:29:53.203602] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:29:53,206 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:30:00,214 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:31:53,208 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:31:53,208 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:31:53,208 - [INFO] - ota_test:ota_test.py:416 - main() - 第 172 轮测试完成---【125/1000】
2025-07-11 03:31:53,208 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 173 轮测试
2025-07-11 03:31:53,286 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:32:01,168 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:32:02,276 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:32:13,521 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:32:14,250 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:32:25,194 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:32:25,269 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:33:38,111 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:33:38,111 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:33:51,819 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:33:55,895 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:33:55.895131] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:33:55.895131] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:33:55,896 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:33:55.895131] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:33:55,897 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:34:02,539 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
2025-07-11 03:35:55,900 - [INFO] - ota_test:ota_test.py:355 - restore_factory_settings() - 192.168.1.36：尝试重新连接设备，第1次尝试...
2025-07-11 03:35:55,900 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.36：测试过程中发生错误：'NoneType' object has no attribute 'connect'
2025-07-11 03:35:55,900 - [INFO] - ota_test:ota_test.py:416 - main() - 第 173 轮测试完成---【126/1000】
2025-07-11 03:35:55,900 - [INFO] - ota_test:ota_test.py:393 - main() - 开始执行第 174 轮测试
2025-07-11 03:35:56,037 - [INFO] - client_base:client_base.py:147 - connection_made() - Connected to <Peer 192.168.1.36 23>
2025-07-11 03:36:03,604 - [WARNING] - telnet_connecter:telnet_connecter.py:405 - send_command() - [Attempt 1/3] Login prompt detected in response. Attempting to login.
2025-07-11 03:36:04,634 - [INFO] - telnet_connecter:telnet_connecter.py:424 - send_command() - [Attempt 1/3] Re-sending command after login
2025-07-11 03:36:16,420 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:36:16,924 - [ERROR] - ota_test:ota_test.py:403 - test_device() - 192.168.1.6：测试过程中发生错误：Failed to connect: [WinError 121] 信号灯超时时间已到
2025-07-11 03:36:28,904 - [INFO] - ota_test:ota_test.py:333 - get_screenId_from_host() - 192.168.1.36：屏幕ID：PinturaV2test09529
2025-07-11 03:36:28,974 - [INFO] - ota_test:ota_test.py:299 - send_ota_request() - 192.168.1.36-已发送升级请求
2025-07-11 03:37:41,444 - [INFO] - ota_test:ota_test.py:322 - get_current_local_version() - 192.168.1.36：本地版本：2.01.17.0
2025-07-11 03:37:41,444 - [INFO] - ota_test:ota_test.py:94 - test() - 192.168.1.36：升级成功
2025-07-11 03:37:55,133 - [INFO] - ota_test:ota_test.py:338 - restore_factory_settings() - 192.168.1.36：已执行恢复出厂设置命令，等待设备重启...
2025-07-11 03:37:59,209 - [ERROR] - sql_connecter:sql_connecter.py:342 - get_connection() - 获取数据库连接失败: [2025-07-11 03:37:59.209800] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
Traceback (most recent call last):
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 852, in create_connection
    raise exceptions[0]
  File "C:\Users\SHEN\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 641, in connect
    self.connection = pymysql.connect(
                      ^^^^^^^^^^^^^^^^
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "F:\Project\testTool\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "f:\Project\testTool\sql_connecter.py", line 338, in get_connection
    connector.connect()
  File "f:\Project\testTool\sql_connecter.py", line 685, in connect
    raise ConnectionError1(f"MySQL连接失败: {str(e)}", error_code=error_code, original_error=e)
sql_connecter.ConnectionError1: [2025-07-11 03:37:59.209800] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:37:59,210 - [ERROR] - ota_test:ota_test.py:73 - query_sql() - 数据库查询出错: [2025-07-11 03:37:59.209800] ConnectionError1: MySQL连接失败: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)") (错误代码: 2003)
原始错误: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
2025-07-11 03:37:59,210 - [INFO] - ota_test:ota_test.py:290 - set_sql_need_to_update() - 192.168.1.36：更新设备 PinturaV2test09529 的OTA状态成功
2025-07-11 03:38:06,252 - [INFO] - client_base:client_base.py:82 - connection_lost() - Connection closed to <Peer 192.168.1.36 23>
